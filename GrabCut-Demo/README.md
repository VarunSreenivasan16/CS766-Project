## Directory structure

-   scripts/
    -   The scripts for testing Grabcut.
-   images/
    - The input files used by the scripts.
-   outputs/
    -  The files generated by the scripts.
-   my_demo/
    -   Files to be shown on our website.

## Papers

<https://dl.acm.org/doi/abs/10.1145/1015706.1015720>

## Packages

-   OpenCV
    -   demos for grabcut():
        -   <https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_grabcut/py_grabcut.html>    
            -   Initially user draws a rectangle around the foreground region (foreground region shoule be completely inside the rectangle). Then algorithm segments it iteratively to get the best result. Done.
                ![cv-demo](images/opencv-demo/opencv-demo-1.jpg)
            -   But in some cases, the segmentation won’t be fine, like, it may have marked some foreground region as background and vice versa. In that case, user need to do fine touch-ups. Just give some strokes on the images where some faulty results are there. Strokes basically says “Hey, this region should be foreground, you marked it background, correct it in next iteration” or its opposite for background. Then in the next iteration, you get better results.![cv-demo](images/opencv-demo/opencv-demo-2.jpg)
        -   an interactive demo: <https://www.youtube.com/watch?v=kAwxLTDDAwU&ab_channel=AbidRahmanK>
        <!-- -   another interactive demo (with version 4.5.1): <https://docs.opencv.org/4.5.1/dd/dfc/tutorial_js_grabcut.html> -->
        -   OpenCV GrabCut: Foreground Segmentation and Extraction: https://www.pyimagesearch.com/2020/07/27/opencv-grabcut-foreground-segmentation-and-extraction/
    -   installing OpenCV:
        -   <https://pypi.org/project/opencv-python/4.5.1.48/>
        -   requirements for v 4.5.1.:
            -   pip: 19.3
            -   python 3.6-3.9               

## How to create the human hints


### steps

- Use GIMP
  - Make the layers partially transparent
    - Change the opacity of a layer (at the top of the "layers" window)
  - Remember to make the layer back to opaque before exporting to a png file.

### Examples

- outputs/opencv-demo/opencv-demo-rect-static-human-hint-step2-v1.xcf


## Versions

### opencv-demo

Following the demo for cv2
- Interactive Foreground Extraction using GrabCut Algorithm
- https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_imgproc/py_grabcut/py_grabcut.html
- rectangular mode with non-interactive mode

### bus-mask

- Use GrabCut based on mask for a bus that Matterport predicted.
